.TH mfscli "1" "February 2016" "MooseFS 2.0.87-1" "This is part of MooseFS"
.SH NAME
mfscli - CGI in TXT mode
.SH SYNOPSIS
\fBmfscli\fP [\fB-pn28\fP] [\fB-H\fP \fImaster_host\fP] [\fB-P\fP \fImaster_port\fP] 
[\fB-f\fP \fI0..3\fP] \fB-S(IN|IM|LI|IG|MU|IC|IL|CS|MB|HD|EX|MS|MO|QU)\fP 
[\fB-s\fP \fIseparator\fP] [\fB-o\fP \fIorder_id\fP [\fB-r\fP]] [\fB-m\fP \fImode_id\fP] 
.PP
\fBmfscli\fP [\fB-pn28\fP] [\fB-H\fP \fImaster_host\fP] [\fB-P\fP \fImaster_port\fP] 
[\fB-f\fP \fI0..3\fP] 
\fB-C\fP(\fBRC/\fP\fIip\fP\fB/\fP\fIport\fP|\fBBW/\fP\fIip\fP\fB/\fP\fIport\fP|\fBM[01]/\fP\fIip\fP\fB/\fP\fIport\fP|\fBRS/\fP\fIsessionid\fP)
.PP
\fBmfscli\fP \fB-h\fP
.SH DESCRIPTION
\fBmfscli\fP is a commandline counterpart to MooseFS's CGI interface. All the information available
in CGI (except for graphs) can be obtained via CLI using different "monitoring options"
.SH OPTIONS
.TP
\fB-h\fP
print help message
.TP
\fB-p\fP
force plain text format on tty devices
.TP
\fB-n\fP
do not resolve ip adresses (default when output device is not tty)
.TP
\fB-s\fP \fIseparator\fP
field separator to use in plain text format on tty devices (forces \fB-p\fP)
.TP
\fB-2\fP
force 256-color terminal color codes
.TP
\fB-8\fP
force 8-color terminal color codes
.TP
\fB-H\fP \fImaster_host\fP
master address (default: mfsmaster)
.TP
\fB-P\fP \fImaster_port\fP
master client port (default: 9421)
.TP
\fB-f\fP \fB0\fP..\fB3\fP
set frame charset to be displayed as table frames in ttymode;
.RS
.IP 0
simple ascii frames '+','-','|' (default)
.IP 1
thick unicode frames
.IP 2
thin unicode frames
.IP 3
double unicode frames (dos style)
.RE
.TP
\fB-o\fP \fIorder_id\fP
sort data by column specified by 'order id' (depends on data set)
.TP
\fB-r\fP
reverse sort order
.TP
\fB-m\fP \fImode_id\fP
show data specified by 'mode id' (depends on data set)
.SH MONITORING OPTIONS
.TP
\fB-SIN\fP
show full master info
.TP
\fB-SIM\fP
show only masters states
.TP
\fB-SLI\fP
show only licence info
.TP
\fB-SIG\fP
show only general master (leader) info
.TP
\fB-SMU\fP
show only master memory usage
.TP
\fB-SIC\fP
show only chunks info (goal/copies matrices)
.TP
\fB-SIL\fP
show only loop info (with messages)
.TP
\fB-SCS\fP
show connected chunk servers
.TP
\fB-SMB\fP
show connected metadata backup servers
.TP
\fB-SHD\fP
show hdd data
.TP
\fB-SEX\fP
show exports
.TP
\fB-SMS\fP
show active mounts
.TP
\fB-SMO\fP
show operation counters
.TP
\fB-SQU\fP
show quota info
.TP
\fB-SMC\fP
show master charts data
.TP
\fB-SCC\fP
show chunkserver charts data
.SH COMMANDS
.TP
\fB-CRC/\fP\fIip\fP\fB/\fP\fIport\fP
remove selected chunkserver from list of active chunkservers
.TP
\fB-CBW/\fP\fIip\fP\fB/\fP\fIport\fP
send selected chunkserver back to work state (from grace state)
.TP
\fB-CM1/\fP\fIip\fP\fB/\fP\fIport\fP
switch selected chunkserver to maintenance mode
.TP
\fB-CM0/\fP\fIip\fP\fB/\fP\fIport\fP
switch selected chunkserver to standard mode (from maintenance mode)
.TP
\fB-CRS/\fP\fIsessionid\fP
remove selected session
.SH EXAMPLES
.IP "\fBmfscli -SIC -2\fP"
shows table with chunk state matrix (number of chunks for each combination of valid copies and goal set by user) using extended terminal colors (256-colors)
.IP "\fBmfscli -SCS -f 1\fP"
shows table with all chunkservers using unicode thick frames
.IP "\fBmfscli -SMS -p -s ','\fP"
shows current sessions (mounts) using plain text format and coma as a separator
.SH "REPORTING BUGS"
Report bugs to <bugs@moosefs.com>.
.SH COPYRIGHT
Copyright (C) 2016 Jakub Kruszona-Zawadzki, Core Technology Sp. z o.o.

This file is part of MooseFS.

MooseFS is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, version 2 (only).

MooseFS is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with MooseFS; if not, write to the Free Software
Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02111-1301, USA
or visit http://www.gnu.org/licenses/gpl-2.0.html
.SH "SEE ALSO"
.BR mfsmaster (8)
